<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul:nth-of-type(10) > li:not(:nth-child(5)) > a, .site-nav > ul:nth-of-type(10) > li > ul > li a { background-image: none; } .site-nav > ul:not(:nth-of-type(10)) a, .site-nav li.external a { background-image: none; } .site-nav > ul:nth-of-type(10) > li:nth-child(5) > a { font-weight: 600; text-decoration: none; } .site-nav > ul.nav-category-list > li > button svg, .site-nav > ul:nth-of-type(10) > li:nth-child(5) > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list, .site-nav > ul:nth-of-type(10) > li.nav-list-item:nth-child(5) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Bash Functions | Linux Fundamentals</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Bash Functions" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Bash Basic function Return an exit status Returning values with variables Returning value with command substitution Can I return a status code and value at the same time? 5.1. Whats up with the arguments? Move advanced examples of functions 6.1. Returning the content of an array 6.2. Returning an array with mapfile 6.3. Using an associative array" /> <meta property="og:description" content="Bash Basic function Return an exit status Returning values with variables Returning value with command substitution Can I return a status code and value at the same time? 5.1. Whats up with the arguments? Move advanced examples of functions 6.1. Returning the content of an array 6.2. Returning an array with mapfile 6.3. Using an associative array" /> <link rel="canonical" href="http://localhost:4000/bash/functions/" /> <meta property="og:url" content="http://localhost:4000/bash/functions/" /> <meta property="og:site_name" content="Linux Fundamentals" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-09-30T15:43:47-04:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Bash Functions" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-09-30T15:43:47-04:00","datePublished":"2025-09-30T15:43:47-04:00","description":"Bash Basic function Return an exit status Returning values with variables Returning value with command substitution Can I return a status code and value at the same time? 5.1. Whats up with the arguments? Move advanced examples of functions 6.1. Returning the content of an array 6.2. Returning an array with mapfile 6.3. Using an associative array","headline":"Bash Functions","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/bash/functions/"},"url":"http://localhost:4000/bash/functions/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Linux Fundamentals </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Welcome to the course</a></li></ul> <div class="nav-category">Modules</div> <ul class="nav-list"><li class="nav-list-item"><a href="/modules/module1/" class="nav-list-link">Module 1 What is Linux?</a></li><li class="nav-list-item"><a href="/modules/module2/" class="nav-list-link">Module 2 Using Ubuntu</a></li><li class="nav-list-item"><a href="/modules/module3/" class="nav-list-link">Module 3 Administration</a></li></ul> <div class="nav-category">Week_Report</div> <ul class="nav-list"><li class="nav-list-item"><a href="/week_report/wr1/" class="nav-list-link">Week Report 1</a></li><li class="nav-list-item"><a href="/week_report/wr2/" class="nav-list-link">Week Report 2</a></li><li class="nav-list-item"><a href="/week_report/wr3/" class="nav-list-link">Week Report 3</a></li></ul> <div class="nav-category">Labs</div> <ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab1/" class="nav-list-link">Lab 1 - Learning Markdown</a></li><li class="nav-list-item"><a href="/labs/lab2_debian/" class="nav-list-link">Lab 2 - Installing Debian 13</a></li><li class="nav-list-item"><a href="/labs/lab3/" class="nav-list-link">Lab 3 - The GNOME DE and The Bash Shell</a></li></ul> <div class="nav-category">Documentation</div> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/faq/" class="nav-list-link">Frequently Asked Questions</a></li><li class="nav-list-item"><a href="/docs/MarkdownCheatSheet/" class="nav-list-link">Markdown Cheat Sheet</a></li></ul> <div class="nav-category">Guides</div> <ul class="nav-list"><li class="nav-list-item"><a href="/guides/custimizeGedit/" class="nav-list-link">Customize Gedit</a></li><li class="nav-list-item"><a href="/guides/format-control-char-date-command/" class="nav-list-link">FORMAT control characters</a></li><li class="nav-list-item"><a href="/guides/Ubuntu%20Github%20Setup/" class="nav-list-link">How to Setup Git and Github in Ubuntu 20.04</a></li><li class="nav-list-item"><a href="/guides/starshipShell/" class="nav-list-link">How to install Starship Shell</a></li><li class="nav-list-item"><a href="/guides/jekyll/" class="nav-list-link">Install Jekyll</a></li><li class="nav-list-item"><a href="/guides/nodejs/" class="nav-list-link">Install NodeJS</a></li><li class="nav-list-item"><a href="/guides/install-ubuntu-server-20.04/" class="nav-list-link">Install Ubuntu Server 24.04 In VirtualBox 7</a></li><li class="nav-list-item"><a href="/guides/install_virtmanager/" class="nav-list-link">Kvm + Virtmanager</a></li><li class="nav-list-item"><a href="/guides/ApacheWebserver/" class="nav-list-link">Setting up a web server in Debian</a></li><li class="nav-list-item"><a href="/guides/SetupSSHUbuntuServer/" class="nav-list-link">Setup SSH Guide</a></li></ul> <div class="nav-category">Project</div> <ul class="nav-list"><li class="nav-list-item"><a href="/project/Final_Project_description/" class="nav-list-link">Final Project Description</a></li></ul> <div class="nav-category">Extra</div> <ul class="nav-list"><li class="nav-list-item"><a href="/extra/bash_variables/" class="nav-list-link">Bash Variables</a></li><li class="nav-list-item"><a href="/extra/cd_parent_vs_cd_previous/" class="nav-list-link">Cd ../ vs cd -</a></li><li class="nav-list-item"><a href="/extra/getting_confortable_with_ubuntu/" class="nav-list-link">Getting Comfortable with Ubuntu 24.04</a></li><li class="nav-list-item"><a href="/extra/learning-git/" class="nav-list-link">Learning Git</a></li><li class="nav-list-item"><a href="/extra/lab1_md_extra_practice/" class="nav-list-link">Markdown Extra Practice</a></li><li class="nav-list-item"><a href="/extra/mkdir_touch_rm/" class="nav-list-link">Mkdir, touch, and rm</a></li><li class="nav-list-item"><a href="/extra/practice_virtualization/" class="nav-list-link">Practice Virtualization</a></li><li class="nav-list-item"><a href="/extra/Shell_scripting_Basics/" class="nav-list-link">Shell Scripting Extra practice 1</a></li><li class="nav-list-item"><a href="/extra/thelinuxfs/" class="nav-list-link">The Linux FS</a></li><li class="nav-list-item"><a href="/extra/testingvms/" class="nav-list-link">VM Test Activity</a></li><li class="nav-list-item"><a href="/extra/wildcards/" class="nav-list-link">Wildcards</a></li></ul> <div class="nav-category">Final_Exam</div> <ul class="nav-list"><li class="nav-list-item"><a href="/final_exam/final_exam/" class="nav-list-link">Final Exam Study Guide</a></li></ul> <div class="nav-category">Bash</div> <ul class="nav-list"><li class="nav-list-item"><a href="/bash/ANSI_escape_sequences/" class="nav-list-link">ANSI Escape Sequences</a></li><li class="nav-list-item"><a href="/bash/arrays/" class="nav-list-link">Arrays</a></li><li class="nav-list-item"><a href="/bash/checks/" class="nav-list-link">Bash Checks</a></li><li class="nav-list-item"><a href="/bash/comments/" class="nav-list-link">Bash Comments</a></li><li class="nav-list-item"><a href="/bash/functions/" class="nav-list-link">Bash Functions</a></li><li class="nav-list-item"><a href="/bash/controlflow/" class="nav-list-link">Control Statements</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Linux Fundamentals" aria-label="Search Linux Fundamentals" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/just-the-docs/just-the-docs-template" class="site-button" > Template Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <!-- vscode-markdown-toc --> <ul> <li> <ol> <li><a href="#BashBasicfunction">Bash Basic function</a></li> </ol> </li> <li> <ol> <li><a href="#Returnanexitstatus">Return an exit status</a></li> </ol> </li> <li> <ol> <li><a href="#Returningvalueswithvariables">Returning values with variables</a></li> </ol> </li> <li> <ol> <li><a href="#Returningvaluewithcommandsubstitution">Returning value with command substitution</a></li> </ol> </li> <li> <ol> <li><a href="#CanIreturnastatuscodeandvalueatthesametime">Can I return a status code and value at the same time?</a> <ul> <li>5.1. <a href="#Whatsupwiththearguments">Whats up with the arguments?</a></li> </ul> </li> </ol> </li> <li> <ol> <li><a href="#Moveadvancedexamplesoffunctions">Move advanced examples of functions</a> <ul> <li>6.1. <a href="#Returningthecontentofanarray">Returning the content of an array</a></li> <li>6.2. <a href="#Returninganarraywithmapfile">Returning an array with mapfile</a></li> <li>6.3. <a href="#Usinganassociativearray">Using an associative array</a></li> </ul> </li> </ol> </li> </ul> <!-- vscode-markdown-toc-config numbering=true autoSave=true /vscode-markdown-toc-config --> <!-- /vscode-markdown-toc --> <h1 id="bash-functions"> <a href="#bash-functions" class="anchor-heading" aria-labelledby="bash-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bash Functions </h1> <p>A function is just a small reusable pease of code. It does something and return its result back to the program. It can also return nothing.</p> <h2 id="1-bash-basic-function"> <a href="#1-bash-basic-function" class="anchor-heading" aria-labelledby="1-bash-basic-function"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. <a name="BashBasicfunction"></a>Bash Basic function </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Option 1</span>
<span class="k">function </span>function_name<span class="o">()</span> <span class="o">{</span>
    <span class="c"># body of function here</span>
<span class="o">}</span>

<span class="c"># Option 2</span>
function_name<span class="o">(){</span>
    <span class="c"># body of function here</span>
<span class="o">}</span>

<span class="c"># to call function:</span>
function_name
</code></pre></div></div> <ul> <li><strong>Keep in Mind</strong> <ul> <li>Bash functions do not return values. They can return: <ul> <li>An exit status using <code class="language-plaintext highlighter-rouge">return</code></li> <li>A value using a variable (global or local)</li> <li>value via STDOUT - This requests command substitution</li> </ul> </li> </ul> </li> </ul> <h2 id="2-return-an-exit-status"> <a href="#2-return-an-exit-status" class="anchor-heading" aria-labelledby="2-return-an-exit-status"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. <a name="Returnanexitstatus"></a>Return an exit status </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Checks if $1 exist. 0 = true, 1 = false</span>
potato<span class="o">(){</span>
    <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="k">return </span>0 <span class="o">||</span> <span class="k">return </span>1 
<span class="o">}</span>

potato <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="c"># We can then use the $? to create logic with the exit status code.</span>

<span class="o">[</span> <span class="nv">$?</span> <span class="nt">-eq</span> 0 <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2"> exist"</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2"> doesn't exist"</span>
</code></pre></div></div> <h2 id="3-returning-values-with-variables"> <a href="#3-returning-values-with-variables" class="anchor-heading" aria-labelledby="3-returning-values-with-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. <a name="Returningvalueswithvariables"></a>Returning values with variables </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Using a global variable:</span>
potato<span class="o">(){</span>
    <span class="nv">greeting</span><span class="o">=</span><span class="s2">"Good Morning, </span><span class="nv">$1</span><span class="s2">"</span>
<span class="o">}</span>
potato <span class="s2">"Mary"</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$greeting</span><span class="s2">"</span>

<span class="c"># Using local variable</span>
potato<span class="o">(){</span>
    <span class="nb">local </span><span class="nv">name</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">age</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">email</span><span class="o">=</span><span class="s2">"</span><span class="nv">$3</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"Hello </span><span class="nv">$name</span><span class="se">\n</span><span class="s2">At </span><span class="nv">$age</span><span class="s2"> you will need a bigger boat.</span><span class="se">\n\t</span><span class="s2">Sent from </span><span class="nv">$email</span><span class="s2">"</span>
    
<span class="o">}</span>

potato <span class="s2">"Mary"</span> <span class="s2">"43"</span> <span class="s2">"admin@mail.com"</span>

</code></pre></div></div> <h2 id="4-returning-value-with-command-substitution"> <a href="#4-returning-value-with-command-substitution" class="anchor-heading" aria-labelledby="4-returning-value-with-command-substitution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. <a name="Returningvaluewithcommandsubstitution"></a>Returning value with command substitution </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>potato<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">greeting</span><span class="o">=</span><span class="s2">"Hello, </span><span class="nv">$1</span><span class="s2">!"</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$greeting</span><span class="s2">"</span>
<span class="o">}</span>

<span class="nv">result</span><span class="o">=</span><span class="si">$(</span>potato <span class="s2">"Bobby"</span><span class="si">)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$result</span><span class="s2">"</span> 

</code></pre></div></div> <h2 id="5-can-i-return-a-status-code-and-value-at-the-same-time"> <a href="#5-can-i-return-a-status-code-and-value-at-the-same-time" class="anchor-heading" aria-labelledby="5-can-i-return-a-status-code-and-value-at-the-same-time"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. <a name="CanIreturnastatuscodeandvalueatthesametime"></a>Can I return a status code and value at the same time? </h2> <p>Yes. Here is an example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>is_even<span class="o">(){</span>
    <span class="nb">local </span><span class="nv">numb</span><span class="o">=</span><span class="nv">$1</span>
    <span class="k">if</span> <span class="o">((</span> numb % 2 <span class="o">==</span> 0 <span class="o">))</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"even"</span>
        <span class="k">return </span>0
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"not even"</span>
        <span class="k">return </span>1
    <span class="k">fi</span>
<span class="o">}</span>

<span class="nv">result</span><span class="o">=</span><span class="si">$(</span>is_even <span class="nv">$1</span><span class="si">)</span>
<span class="nv">status_code</span><span class="o">=</span><span class="nv">$?</span>
<span class="nb">echo</span> <span class="s2">"the </span><span class="nv">$1</span><span class="s2"> number is </span><span class="nv">$result</span><span class="s2">"</span>
</code></pre></div></div> <blockquote> <p><strong>Side Note:</strong> The example script above has a couple of gotchas. If you pass a letter instead of a number it tells you that it is even. How so?? Well, bash does arithmetic evaluation using <code class="language-plaintext highlighter-rouge">((...))</code> inside these parentheses everything is an integer. This means that every non-integer character is considered a 0 by bash. Notice that I said integer and not number. That is because bash does not support floating point numbers. You need an external utility (like <code class="language-plaintext highlighter-rouge">bc</code>) to handle floating point numbers. The next gotcha is the lack of <code class="language-plaintext highlighter-rouge">$</code> in the <code class="language-plaintext highlighter-rouge">numb</code> variable. As you already know, in order to access the value of a variable, you need to preface it with a <code class="language-plaintext highlighter-rouge">$</code>, however, because the <code class="language-plaintext highlighter-rouge">((...))</code> are already expecting an integer, the <code class="language-plaintext highlighter-rouge">$</code> becomes optional. The script below is a complete version that handles non integer input.</p> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
is_even<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">numb</span><span class="o">=</span><span class="nv">$1</span>

    <span class="c"># Ensure the input is a number</span>
    <span class="k">if</span> <span class="o">!</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$numb</span><span class="s2">"</span> <span class="o">=</span>~ ^-?[0-9]+<span class="nv">$ </span><span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Error: Input is not an integer"</span>
        <span class="k">return </span>2 <span class="c"># Use a special return code for invalid input</span>
    <span class="k">fi</span>

    <span class="c"># Proceed with even/odd check</span>
    <span class="k">if</span> <span class="o">((</span> numb % 2 <span class="o">==</span> 0 <span class="o">))</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"even"</span>
        <span class="k">return </span>0
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"not even"</span>
        <span class="k">return </span>1
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># Call the function with the user's input</span>
<span class="nv">result</span><span class="o">=</span><span class="si">$(</span>is_even <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="si">)</span>
<span class="nv">status_code</span><span class="o">=</span><span class="nv">$?</span>

<span class="c"># Check the return code</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$status_code</span> <span class="nt">-eq</span> 2 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Invalid input: </span><span class="nv">$1</span><span class="s2"> is not an integer."</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"The </span><span class="nv">$1</span><span class="s2"> number is </span><span class="nv">$result</span><span class="s2">."</span>
<span class="k">fi</span>
</code></pre></div></div> <h3 id="51-whats-up-with-the-arguments"> <a href="#51-whats-up-with-the-arguments" class="anchor-heading" aria-labelledby="51-whats-up-with-the-arguments"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1. <a name="Whatsupwiththearguments"></a>Whats up with the arguments? </h3> <p>Just like your script, functions take arguments (positional parameters). These work the same way. Say that you run the script <code class="language-plaintext highlighter-rouge">./playground.sh john carla</code> with the following code:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">"parameter/argument 1: </span><span class="nv">$1</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"parameter/argument 2: </span><span class="nv">$2</span><span class="s2">"</span>
potato<span class="o">(){</span>
	<span class="nb">echo</span> <span class="s2">"In the function 1: </span><span class="nv">$1</span><span class="s2">"</span>
	<span class="nb">echo</span> <span class="s2">"In the function 2: </span><span class="nv">$2</span><span class="s2">"</span>
<span class="o">}</span>
potato <span class="s2">"peter"</span> <span class="s2">"jane"</span>
<span class="nb">echo</span> <span class="s2">"Passing the same parameters to the function:"</span>
potato <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
</code></pre></div></div> <p>The output will be:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>parameter/argument 1: john
parameter/argument 2: carla
In the function 1: peter
In the function 2: jane
Passing the same parameters to the function:
In the function 1: john
In the function 2: carla
</code></pre></div></div> <p>Notice that lines 1 and 2 have the arguments we passed to script but lines 3 and 4 have the arguments we passed to the function. You can passed the same arguments you gave to the script to the function too as you can see in lines 7 and 8</p> <h2 id="6-move-advanced-examples-of-functions"> <a href="#6-move-advanced-examples-of-functions" class="anchor-heading" aria-labelledby="6-move-advanced-examples-of-functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. <a name="Moveadvancedexamplesoffunctions"></a>Move advanced examples of functions </h2> <h3 id="61-returning-the-content-of-an-array"> <a href="#61-returning-the-content-of-an-array" class="anchor-heading" aria-labelledby="61-returning-the-content-of-an-array"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.1. <a name="Returningthecontentofanarray"></a>Returning the content of an array </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
all_ip_addresses<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">ips</span><span class="o">=(</span><span class="s2">"192.168.1.10"</span> <span class="s2">"192.168.1.12"</span> <span class="s2">"192.168.1.14"</span><span class="o">)</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">ips</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span>
<span class="o">}</span>
<span class="nv">array</span><span class="o">=(</span><span class="si">$(</span>all_ip_addresses<span class="si">)</span><span class="o">)</span>
<span class="k">for </span>ip <span class="k">in</span> <span class="k">${</span><span class="nv">array</span><span class="p">[@]</span><span class="k">}</span>
<span class="k">do
	</span>ping <span class="nt">-c</span> 4 <span class="nv">$ip</span>
<span class="k">done</span>

</code></pre></div></div> <h3 id="62-returning-an-array-with-mapfile"> <a href="#62-returning-an-array-with-mapfile" class="anchor-heading" aria-labelledby="62-returning-an-array-with-mapfile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.2. <a name="Returninganarraywithmapfile"></a>Returning an array with mapfile </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
potato<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local dir</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">fname</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
    find <span class="s2">"</span><span class="nv">$dir</span><span class="s2">"</span> <span class="nt">-iname</span> <span class="s2">"*</span><span class="nv">$fname</span><span class="s2">"</span> <span class="nt">-type</span> f <span class="nt">-print0</span>
<span class="o">}</span>

<span class="c"># Use process substitution to pass the function's output to mapfile</span>
<span class="nb">mapfile</span> <span class="nt">-d</span> <span class="s1">''</span> search &lt; &lt;<span class="o">(</span>potato <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span><span class="o">)</span>

<span class="c"># Access array elements</span>
<span class="nb">echo</span> <span class="s2">"First member: </span><span class="k">${</span><span class="nv">search</span><span class="p">[0]</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Last member: </span><span class="k">${</span><span class="nv">search</span><span class="p">[-1]</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Length: </span><span class="k">${#</span><span class="nv">search</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span>
<span class="c"># Process each file</span>
<span class="k">for </span>file <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">search</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span><span class="p">;</span> <span class="k">do</span>
    <span class="c"># Display file details in a formatted way</span>
    <span class="nb">ls</span> <span class="nt">-lhgG</span> <span class="nt">--time-style</span><span class="o">=</span>+%D <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> | <span class="nb">grep</span> <span class="nt">-v</span> <span class="s2">"total"</span> | column <span class="nt">-t</span>
<span class="k">done</span>
</code></pre></div></div> <blockquote> <p><strong>Side note:</strong> The <code class="language-plaintext highlighter-rouge">print0</code> option of the find command command is used to handle files with special characters in the name (ex. spaces). <code class="language-plaintext highlighter-rouge">print0</code> tells find to separate filenames with a null character (<code class="language-plaintext highlighter-rouge">\0</code>) instead of a newline.</p> </blockquote> <h3 id="63-using-an-associative-array"> <a href="#63-using-an-associative-array" class="anchor-heading" aria-labelledby="63-using-an-associative-array"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6.3. <a name="Usinganassociativearray"></a>Using an associative array </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># Function to get disk usage as an associative array</span>
get_disk_usage<span class="o">()</span> <span class="o">{</span>

    <span class="nb">declare</span> <span class="nt">-A</span> disk_info
    <span class="nb">local </span>df_output
    <span class="nv">df_output</span><span class="o">=</span><span class="si">$(</span><span class="nb">df</span> <span class="nt">-h</span> / | <span class="nb">tail</span> <span class="nt">-1</span><span class="si">)</span>

    disk_info[total]<span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$df_output</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span><span class="si">)</span> 
    disk_info[used]<span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$df_output</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $3}'</span><span class="si">)</span> 
    disk_info[available]<span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$df_output</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $4}'</span><span class="si">)</span>
    disk_info[usage_percent]<span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$df_output</span><span class="s2">"</span> | <span class="nb">awk</span> <span class="s1">'{print $5}'</span><span class="si">)</span>

    <span class="c"># Return the associative array</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">declare</span> <span class="nt">-p</span> disk_info<span class="si">)</span><span class="s2">"</span>
<span class="o">}</span>

<span class="c"># Call the function and capture the associative array</span>
<span class="nb">eval</span> <span class="s2">"</span><span class="si">$(</span>get_disk_usage<span class="si">)</span><span class="s2">"</span>

<span class="c"># Access and display the values from the associative array</span>
<span class="nb">echo</span> <span class="s2">"Disk Usage Information for '/':"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"Total Space:</span><span class="se">\t</span><span class="k">${</span><span class="nv">disk_info</span><span class="p">[total]</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"Used Space:</span><span class="se">\t</span><span class="k">${</span><span class="nv">disk_info</span><span class="p">[used]</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"Avail. Space:</span><span class="se">\t</span><span class="k">${</span><span class="nv">disk_info</span><span class="p">[available]</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"Usage %:</span><span class="se">\t</span><span class="k">${</span><span class="nv">disk_info</span><span class="p">[usage_percent]</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div> <blockquote> <p>Side Note: <code class="language-plaintext highlighter-rouge">declare -p disk_info</code> outputs the array definition as a string that can be re-evaluated using <code class="language-plaintext highlighter-rouge">eval</code>.</p> </blockquote> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
